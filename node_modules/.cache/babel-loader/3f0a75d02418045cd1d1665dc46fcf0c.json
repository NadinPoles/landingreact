{"ast":null,"code":"import _toConsumableArray from \"/media/nadin/6d0c3e1f-d4db-40f2-ae9a-c32c3cff43d26/\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430/TestReat/13/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/media/nadin/6d0c3e1f-d4db-40f2-ae9a-c32c3cff43d26/\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430/TestReat/13/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nfunction typedAction(type, payload) {\n  return {\n    type: type,\n    payload: payload\n  };\n}\nvar initialState = {\n  products: [],\n  loading: false,\n  cart: []\n};\nvar addProducts = function addProducts(products) {\n  return typedAction(\"products/ADD_PRODUCTS\", products);\n};\nexport var addToCart = function addToCart(product, quantity) {\n  return typedAction(\"products/ADD_TO_CART\", {\n    product: product,\n    quantity: quantity\n  });\n};\n\n// Action creator returning a thunk!\nexport var loadProducts = function loadProducts() {\n  return function (dispatch) {\n    setTimeout(function () {\n      // Pretend to load an item\n      dispatch(addProducts([{\n        id: 1,\n        title: \"Cool Headphones\",\n        price: 4999,\n        image: \"https://placeimg.com/640/480/tech/5\"\n      }]));\n    }, 500);\n  };\n};\nexport default function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case \"products/ADD_PRODUCTS\":\n      return _objectSpread({}, state, {\n        products: [].concat(_toConsumableArray(state.products), _toConsumableArray(action.payload))\n      });\n    case \"products/ADD_TO_CART\":\n      return _objectSpread({}, state, {\n        cart: [].concat(_toConsumableArray(state.cart), [{\n          id: action.payload.product.id,\n          quantity: action.payload.quantity\n        }])\n      });\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["typedAction","type","payload","initialState","products","loading","cart","addProducts","addToCart","product","quantity","loadProducts","dispatch","setTimeout","id","title","price","image","reducer","state","action"],"sources":["/media/nadin/6d0c3e1f-d4db-40f2-ae9a-c32c3cff43d26/Работа/TestReat/13/shop/src/reducers/reducer.tsx"],"sourcesContent":["import { Dispatch, AnyAction } from \"redux\";\nfunction typedAction(type: string, payload?: any) {\n  return { type, payload };\n}\n\ntype Product = {\n  id: number;\n  title: string;\n  price: number;\n  image: string;\n};\n\ntype CartItem = {\n  id: number;\n  quantity: number;\n};\n\ntype ProductState = {\n  products: Product[];\n  loading: boolean;\n  cart: CartItem[];\n};\n\nconst initialState: ProductState = {\n  products: [],\n  loading: false,\n  cart: [],\n};\n\nconst addProducts = (products: Product[]) => {\n  return typedAction(\"products/ADD_PRODUCTS\", products);\n};\n\nexport const addToCart = (product: Product, quantity: number) => {\n  return typedAction(\"products/ADD_TO_CART\", { product, quantity });\n};\n\n// Action creator returning a thunk!\nexport const loadProducts = () => {\n  return (dispatch: Dispatch<AnyAction>) => {\n    setTimeout(() => {\n      // Pretend to load an item\n      dispatch(\n        addProducts([\n          {\n            id: 1,\n            title: \"Cool Headphones\",\n            price: 4999,\n            image: \"https://placeimg.com/640/480/tech/5\",\n          },\n        ])\n      );\n    }, 500);\n  };\n};\n\ntype ProductAction = ReturnType<typeof addProducts | typeof addToCart>;\n\nexport default function reducer(\n  state = initialState,\n  action: ProductAction\n): ProductState {\n  switch (action.type) {\n    case \"products/ADD_PRODUCTS\":\n      return {\n        ...state,\n        products: [...state.products, ...action.payload],\n      };\n    case \"products/ADD_TO_CART\":\n      return {\n        ...state,\n        cart: [\n          ...state.cart,\n          {\n            id: action.payload.product.id,\n            quantity: action.payload.quantity,\n          },\n        ],\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":";;AACA,SAASA,WAAW,CAACC,IAAY,EAAEC,OAAa,EAAE;EAChD,OAAO;IAAED,IAAI,EAAJA,IAAI;IAAEC,OAAO,EAAPA;EAAQ,CAAC;AAC1B;AAoBA,IAAMC,YAA0B,GAAG;EACjCC,QAAQ,EAAE,EAAE;EACZC,OAAO,EAAE,KAAK;EACdC,IAAI,EAAE;AACR,CAAC;AAED,IAAMC,WAAW,GAAG,SAAdA,WAAW,CAAIH,QAAmB,EAAK;EAC3C,OAAOJ,WAAW,CAAC,uBAAuB,EAAEI,QAAQ,CAAC;AACvD,CAAC;AAED,OAAO,IAAMI,SAAS,GAAG,SAAZA,SAAS,CAAIC,OAAgB,EAAEC,QAAgB,EAAK;EAC/D,OAAOV,WAAW,CAAC,sBAAsB,EAAE;IAAES,OAAO,EAAPA,OAAO;IAAEC,QAAQ,EAARA;EAAS,CAAC,CAAC;AACnE,CAAC;;AAED;AACA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAY,GAAS;EAChC,OAAO,UAACC,QAA6B,EAAK;IACxCC,UAAU,CAAC,YAAM;MACf;MACAD,QAAQ,CACNL,WAAW,CAAC,CACV;QACEO,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,iBAAiB;QACxBC,KAAK,EAAE,IAAI;QACXC,KAAK,EAAE;MACT,CAAC,CACF,CAAC,CACH;IACH,CAAC,EAAE,GAAG,CAAC;EACT,CAAC;AACH,CAAC;AAID,eAAe,SAASC,OAAO,GAGf;EAAA,IAFdC,KAAK,uEAAGhB,YAAY;EAAA,IACpBiB,MAAqB;EAErB,QAAQA,MAAM,CAACnB,IAAI;IACjB,KAAK,uBAAuB;MAC1B,yBACKkB,KAAK;QACRf,QAAQ,+BAAMe,KAAK,CAACf,QAAQ,sBAAKgB,MAAM,CAAClB,OAAO;MAAC;IAEpD,KAAK,sBAAsB;MACzB,yBACKiB,KAAK;QACRb,IAAI,+BACCa,KAAK,CAACb,IAAI,IACb;UACEQ,EAAE,EAAEM,MAAM,CAAClB,OAAO,CAACO,OAAO,CAACK,EAAE;UAC7BJ,QAAQ,EAAEU,MAAM,CAAClB,OAAO,CAACQ;QAC3B,CAAC;MACF;IAEL;MACE,OAAOS,KAAK;EAAC;AAEnB"},"metadata":{},"sourceType":"module"}