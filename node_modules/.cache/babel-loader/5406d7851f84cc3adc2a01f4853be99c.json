{"ast":null,"code":"import _toConsumableArray from \"/media/nadin/6d0c3e1f-d4db-40f2-ae9a-c32c3cff43d26/\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430/TestReat/13/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/media/nadin/6d0c3e1f-d4db-40f2-ae9a-c32c3cff43d26/\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430/TestReat/13/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { CartActionTypes } from \"../types\";\nexport var initialState = {\n  data: {\n    id: 0,\n    items: []\n  },\n  errors: undefined,\n  loading: false\n};\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case CartActionTypes.FETCH_CART_REQUEST:\n      {\n        return _objectSpread({}, state, {\n          loading: true\n        });\n      }\n    case CartActionTypes.FETCH_CART_SUCCESS:\n      {\n        return _objectSpread({}, state, {\n          loading: false,\n          data: action.payload\n        });\n      }\n    case CartActionTypes.FETCH_CART_ERROR:\n      {\n        return _objectSpread({}, state, {\n          loading: false,\n          errors: action.payload\n        });\n      }\n    case CartActionTypes.ADD_TO_CART:\n      {\n        return {\n          errors: state.errors,\n          loading: state.loading,\n          data: _objectSpread({}, state.data, {\n            id: state.data.id,\n            items: [].concat(_toConsumableArray(state.data.items), [action.payload])\n          })\n        };\n      }\n    case CartActionTypes.REMOVE_FROM_CART:\n      {\n        return {\n          errors: state.errors,\n          loading: state.loading,\n          data: _objectSpread({}, state.data, {\n            id: state.data.id,\n            items: state.data.items.filter(function (item) {\n              return item !== action.payload.id;\n            })\n          })\n        };\n      }\n    default:\n      {\n        return state;\n      }\n  }\n};\nexport default reducer;","map":{"version":3,"names":["CartActionTypes","initialState","data","id","items","errors","undefined","loading","reducer","state","action","type","FETCH_CART_REQUEST","FETCH_CART_SUCCESS","payload","FETCH_CART_ERROR","ADD_TO_CART","REMOVE_FROM_CART","filter","item"],"sources":["/media/nadin/6d0c3e1f-d4db-40f2-ae9a-c32c3cff43d26/Работа/TestReat/13/shop/src/reducers/reducer.tsx"],"sourcesContent":["import { Reducer } from \"redux\";\nimport { CartActionTypes, cartState } from \"../types\";\n\nexport const initialState: cartState = {\n  data: {\n    id: 0,\n    items: [],\n  },\n  errors: undefined,\n  loading: false,\n};\n\nconst reducer: Reducer<cartState> = (state = initialState, action) => {\n  switch (action.type) {\n    case CartActionTypes.FETCH_CART_REQUEST: {\n      return { ...state, loading: true };\n    }\n    case CartActionTypes.FETCH_CART_SUCCESS: {\n      return { ...state, loading: false, data: action.payload };\n    }\n    case CartActionTypes.FETCH_CART_ERROR: {\n      return { ...state, loading: false, errors: action.payload };\n    }\n    case CartActionTypes.ADD_TO_CART: {\n      return {\n        errors: state.errors,\n        loading: state.loading,\n        data: {\n          ...state.data,\n          id: state.data.id,\n          items: [...state.data.items, action.payload],\n        },\n      };\n    }\n    case CartActionTypes.REMOVE_FROM_CART: {\n      return {\n        errors: state.errors,\n        loading: state.loading,\n        data: {\n          ...state.data,\n          id: state.data.id,\n          items: state.data.items.filter((item) => item !== action.payload.id),\n        },\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default reducer;\n"],"mappings":";;AACA,SAASA,eAAe,QAAmB,UAAU;AAErD,OAAO,IAAMC,YAAuB,GAAG;EACrCC,IAAI,EAAE;IACJC,EAAE,EAAE,CAAC;IACLC,KAAK,EAAE;EACT,CAAC;EACDC,MAAM,EAAEC,SAAS;EACjBC,OAAO,EAAE;AACX,CAAC;AAED,IAAMC,OAA2B,GAAG,SAA9BA,OAA2B,GAAqC;EAAA,IAAjCC,KAAK,uEAAGR,YAAY;EAAA,IAAES,MAAM;EAC/D,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKX,eAAe,CAACY,kBAAkB;MAAE;QACvC,yBAAYH,KAAK;UAAEF,OAAO,EAAE;QAAI;MAClC;IACA,KAAKP,eAAe,CAACa,kBAAkB;MAAE;QACvC,yBAAYJ,KAAK;UAAEF,OAAO,EAAE,KAAK;UAAEL,IAAI,EAAEQ,MAAM,CAACI;QAAO;MACzD;IACA,KAAKd,eAAe,CAACe,gBAAgB;MAAE;QACrC,yBAAYN,KAAK;UAAEF,OAAO,EAAE,KAAK;UAAEF,MAAM,EAAEK,MAAM,CAACI;QAAO;MAC3D;IACA,KAAKd,eAAe,CAACgB,WAAW;MAAE;QAChC,OAAO;UACLX,MAAM,EAAEI,KAAK,CAACJ,MAAM;UACpBE,OAAO,EAAEE,KAAK,CAACF,OAAO;UACtBL,IAAI,oBACCO,KAAK,CAACP,IAAI;YACbC,EAAE,EAAEM,KAAK,CAACP,IAAI,CAACC,EAAE;YACjBC,KAAK,+BAAMK,KAAK,CAACP,IAAI,CAACE,KAAK,IAAEM,MAAM,CAACI,OAAO;UAAC;QAEhD,CAAC;MACH;IACA,KAAKd,eAAe,CAACiB,gBAAgB;MAAE;QACrC,OAAO;UACLZ,MAAM,EAAEI,KAAK,CAACJ,MAAM;UACpBE,OAAO,EAAEE,KAAK,CAACF,OAAO;UACtBL,IAAI,oBACCO,KAAK,CAACP,IAAI;YACbC,EAAE,EAAEM,KAAK,CAACP,IAAI,CAACC,EAAE;YACjBC,KAAK,EAAEK,KAAK,CAACP,IAAI,CAACE,KAAK,CAACc,MAAM,CAAC,UAACC,IAAI;cAAA,OAAKA,IAAI,KAAKT,MAAM,CAACI,OAAO,CAACX,EAAE;YAAA;UAAC;QAExE,CAAC;MACH;IACA;MAAS;QACP,OAAOM,KAAK;MACd;EAAC;AAEL,CAAC;AAED,eAAeD,OAAO"},"metadata":{},"sourceType":"module"}