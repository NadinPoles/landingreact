{"ast":null,"code":"import _toConsumableArray from \"/media/nadin/6d0c3e1f-d4db-40f2-ae9a-c32c3cff43d26/\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430/TestReat/13/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/media/nadin/6d0c3e1f-d4db-40f2-ae9a-c32c3cff43d26/\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430/TestReat/13/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar initialState = {\n  products: [],\n  loading: false,\n  cart: []\n};\nexport function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case \"products/ADD_PRODUCTS\":\n      return _objectSpread({}, state, {\n        products: [].concat(_toConsumableArray(state.products), _toConsumableArray(action.payload))\n      });\n    case \"products/ADD_TO_CART\":\n      return _objectSpread({}, state, {\n        cart: [].concat(_toConsumableArray(state.cart), [{\n          id: action.payload.product.id,\n          quantity: action.payload.quantity\n        }])\n      });\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["initialState","products","loading","cart","reducer","state","action","type","payload","id","product","quantity"],"sources":["/media/nadin/6d0c3e1f-d4db-40f2-ae9a-c32c3cff43d26/Работа/TestReat/13/shop/src/reducers/reducer.tsx"],"sourcesContent":["import { Dispatch, AnyAction } from \"redux\";\n\ntype Product = {\n  id: number;\n  name: string;\n  price: number;\n  img: string;\n};\n\ntype CartItem = {\n  id: number;\n  quantity: number;\n};\n\ntype ProductState = {\n  products: Product[];\n  loading: boolean;\n  cart: CartItem[];\n};\n\nconst initialState: ProductState = {\n  products: [],\n  loading: false,\n  cart: [],\n};\n\nexport function reducer(\n  state = initialState,\n  action: ProductAction\n): ProductState {\n  switch (action.type) {\n    case \"products/ADD_PRODUCTS\":\n      return {\n        ...state,\n        products: [...state.products, ...action.payload],\n      };\n    case \"products/ADD_TO_CART\":\n      return {\n        ...state,\n        cart: [\n          ...state.cart,\n          {\n            id: action.payload.product.id,\n            quantity: action.payload.quantity,\n          },\n        ],\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":";;AAoBA,IAAMA,YAA0B,GAAG;EACjCC,QAAQ,EAAE,EAAE;EACZC,OAAO,EAAE,KAAK;EACdC,IAAI,EAAE;AACR,CAAC;AAED,OAAO,SAASC,OAAO,GAGP;EAAA,IAFdC,KAAK,uEAAGL,YAAY;EAAA,IACpBM,MAAqB;EAErB,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,uBAAuB;MAC1B,yBACKF,KAAK;QACRJ,QAAQ,+BAAMI,KAAK,CAACJ,QAAQ,sBAAKK,MAAM,CAACE,OAAO;MAAC;IAEpD,KAAK,sBAAsB;MACzB,yBACKH,KAAK;QACRF,IAAI,+BACCE,KAAK,CAACF,IAAI,IACb;UACEM,EAAE,EAAEH,MAAM,CAACE,OAAO,CAACE,OAAO,CAACD,EAAE;UAC7BE,QAAQ,EAAEL,MAAM,CAACE,OAAO,CAACG;QAC3B,CAAC;MACF;IAEL;MACE,OAAON,KAAK;EAAC;AAEnB"},"metadata":{},"sourceType":"module"}